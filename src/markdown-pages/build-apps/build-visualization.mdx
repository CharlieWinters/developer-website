---
path: '/build-apps/build-visualization'
duration: '15 min'
title: 'Build a custom visualization for dashboards'
template: 'GuideTemplate'
description: 'Build and publish a visualization'
resources:
  - title: New Relic One VSCode extension
    url: https://marketplace.visualstudio.com/items?itemName=new-relic.nr1
  - title: 'Build on New Relic One'
    url: https://docs.newrelic.com/docs/new-relic-one/use-new-relic-one/build-new-relic-one/new-relic-one-build-your-own-custom-new-relic-one-application
  - title: New Relic VSCode extension pack
    url: https://marketplace.visualstudio.com/items?itemName=new-relic.new-relic-extension-pack
tags:
  - nr1 cli
  - NR One Catalog
  - Subscribe visualizations
---

<Intro>

You can build your own visualizations for New Relic One dashboards. This allows you and your organization to query any data sources and display them on your dashboards. In this guide, you'll learn to generate a visualization boilerplate and run it locally in New Relic One's Visualization Explorer where you can quickly test and iterate before publishing.

</Intro>

## Before you begin

To get started, make sure you have a [New Relic](https://newrelic.com/signup/) account.

To develop projects, you need the New Relic One CLI (command line interface).

If you haven't already installed it, do the following:

- Install [Node.js](https://nodejs.org/en/download/).
- Complete all the steps in the [CLI quick start](https://one.newrelic.com/launcher/developer-center.launcher?pane=eyJuZXJkbGV0SWQiOiJkZXZlbG9wZXItY2VudGVyLmRldmVsb3Blci1jZW50ZXIifQ==).


## Creating a new visualization
In this first set of steps you will use the CLI to quickly generate the boilerplate for a new visualization.

<Steps>

  <Step>

Ensure you're working with the latest version of the New Relic One CLI.

```bash
nr1 update
```

  </Step>

  <Step>

Generate the boilerplate for a visualization using the `nr1 create` command while at the root of your nerdpack project. If you do not yet have a nerdpack project, you can generate a new one by running `nr1 create` and selecting `nerdpack` from the options. If you followed all the steps in the "CLI quick start" above, you already have a new nerdpack project directory (for example, `my-awesome-nerdpack`).

```bash
nr1 create --type visualization
```

As a result, you have a new visualization directory matching the name you gave your visualization. It is located in the `visualizations` directory in the root of your nerdpack project. <img src="../../images/build-an-app/visualization-boilerplate-files.png" alt="Visualization files generated by CLI" />

TODO: Point to reference(s) explaining nr1.json for visualizations.

TODO: Point to reference(s) explaining visualization props and guidance on system/dashboard interactions like the time picker.

  </Step>

</Steps>

## Render the visualization in local development
Now let's run the generated visualization locally and view it the Visualization Explorer where you can quickly test changes to your code.

<Steps>
  <Step>

Start the local node server for your nerdpack.
```bash
nr1 nerdpack:serve
```

  </Step>

  <Step>

Open a browser and go to [https://one.newrelic.com/?nerdpacks=local](https://one.newrelic.com/?nerdpacks=local). This url is also shown in the terminal when the node server starts. The `nerdpacks=local` query string will direct the UI to load your new visulization artifact from the local node server.

  </Step>

  <Step>

Navigate to the Visualization Explorer which you will find favorited by default in the Apps catalog. 
<img src="../../images/build-an-app/visualization-explorer-navigation.png" alt="Visualization Explorer is located in the Apps listing" />

  </Step>

  <Step>

In the Visualization Explorer, find and click on the tile for your visualization. If the tile is not showing up or it is not indicating that it is running locally, restart the node server and refresh the browser.
<img src="../../images/build-an-app/visualization-explorer-local-entry.png" alt="Your visualization shown in the Visualization Explorer" />

Now that you have selected your locally running visualization, you will see it load in the Visualization Explorer where you can take advantage of the features outlined in the following steps.

  </Step>

  <Step>

Enter prop values and instantly see the visualization update

TODO: Give a specific example & screenshot.

  </Step>

  <Step>

Modify the visualization's Javascript code and see the result automatically update in the UI.

TODO: Give a specific example & screenshot.

  </Step>

  <Step>

TODO: Modify nr1.json details, must restart the node server

  </Step>

</Steps>


## Deploy and use your visualization

Once you are ready for you and others to use the visualaztion on dashboards, you can step through the following resources. 

* Share the visualization with your colleagues by deploying the nerdpack to the New Relic One catalog and subscribing accounts to your nerdpack.
* Add the visualization to a dashboard for you and others.
* Add details to the project in the catalog so users understand how to use it.

TODO: make these bullet points links.

## Advance configurations

### Extend webpack configuration

You can use our `.extended-webpackrc.js` file to extend the webpack 4 configuration. This allows you to add your own aliases, scripts, and configurations when locally serving or deploying your app.

### Proxy browser setup

Generally, you don't need to know how your application code is loaded in New Relic One. But understanding how this works can help you if you encounter issues (for example, with a proxy or browser setup).

When developing, your code is served from your local laptop by using an nr-local.net subdomain. This domain points to 127.0.0.1, and will use a variety of ports to connect, including 9973.

In order to load third-party code into the platform, (both in development and production), New Relic One uses an `<IFRAME>`, as well as a separate domain (a subdomain of nr-ext.net) to perform the load, relying on same-domain policy to sandbox the code.

For this reason, your network administrator may need to enable access to:

- Any subdomain of nr-local.net, or, at the very least, to any domain of the shape of `<UserId>`.nr-local.net, where UserId is a 32-hexadecimal character identifier that is unique to the user logged into the platform (you can use `[0-9a-f]{32}` to discriminate it).

- Any subdomain of nr-ext.net, or, at the very least, to any domain in the shape of `<NerdpackUuid>`.g `<NerdpackGid>`.nr-ext.net, where NerdpackUuid is the UUID assigned to your package, and NerdpackGid is zero, or a positive integer (you can use `0|[1-9]\d+` to discriminate it).

## Summary

Now that you've completed the steps in this example, you learned the steps to:

- Create a visualization and run it locally 
- Quickly test and iterate on visualization code changes using the Visualization Explorer